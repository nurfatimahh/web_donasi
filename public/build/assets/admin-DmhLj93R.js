window.openModalNeed=function(n,t,e=null){const o=document.getElementById(n),d=document.getElementById("formNeed"),m=document.getElementById("modalTitle"),a=document.getElementById("formMethod"),l=document.getElementById("divTerkumpul");o&&(o.classList.remove("hidden"),t==="edit"&&e?(m.innerText="Edit Kebutuhan",d.action=`/admin/needs/${e.id}`,a.value="PUT",l.classList.remove("hidden"),document.getElementById("nama_barang")&&(document.getElementById("nama_barang").value=e.nama_barang),document.getElementById("target_jumlah")&&(document.getElementById("target_jumlah").value=e.target_jumlah),document.getElementById("satuan")&&(document.getElementById("satuan").value=e.satuan),document.getElementById("jumlah_terkumpul_input")&&(document.getElementById("jumlah_terkumpul_input").value=e.jumlah_terkumpul)):(m.innerText="Tambah Kebutuhan",d.action="/admin/needs",a.value="POST",l.classList.add("hidden"),d.reset()))};window.closeModal=function(n){const t=document.getElementById(n);t&&t.classList.add("hidden")};window.addEventListener("click",function(n){const t=document.getElementById("modalNeed");n.target==t&&window.closeModal("modalNeed")});window.openModalProgram=function(n,t,e=null){const o=document.getElementById(n),d=document.getElementById("formProgram"),m=document.getElementById("modalTitleProgram"),a=document.getElementById("formMethodProgram"),l=document.getElementById("img-preview"),i=document.getElementById("image-placeholder"),s=document.getElementById("existing-img-info");o&&(o.classList.remove("hidden"),document.body.style.overflow="hidden",t==="edit"&&e?(m.innerText="Edit Program",d.action=`/admin/programs/${e.id}`,a.value="PUT",document.getElementById("field_nama_program").value=e.nama_program,document.getElementById("field_deskripsi").value=e.deskripsi,document.getElementById("field_tanggal_mulai").value=e.tanggal_mulai,document.getElementById("field_tanggal_selesai").value=e.tanggal_selesai,e.gambar&&(l.src=`/storage/${e.gambar}`,l.classList.remove("hidden"),i.classList.add("hidden"),s.classList.remove("hidden"))):(m.innerText="Tambah Program",d.action="/admin/programs",a.value="POST",d.reset(),l.classList.add("hidden"),i.classList.remove("hidden"),s.classList.add("hidden")))};window.closeModal=function(n){const t=document.getElementById(n);t&&(t.classList.add("hidden"),document.body.style.overflow="auto")};document.addEventListener("change",function(n){if(n.target&&n.target.id==="field_gambar"){const t=n.target.files[0],e=document.getElementById("img-preview"),o=document.getElementById("image-placeholder");if(t){const d=new FileReader;d.onload=function(m){e.src=m.target.result,e.classList.remove("hidden"),o.classList.add("hidden")},d.readAsDataURL(t)}}});
